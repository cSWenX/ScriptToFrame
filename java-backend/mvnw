#!/bin/bash
# Maven Wrapper脚本
# 自动下载并运行Maven

MAVEN_VERSION="3.9.6"
MAVEN_HOME="$HOME/.m2/wrapper/maven-${MAVEN_VERSION}"
MAVEN_BIN="$MAVEN_HOME/bin/mvn"

# 如果Maven不存在，下载它
if [ ! -f "$MAVEN_BIN" ]; then
    echo "Downloading Maven ${MAVEN_VERSION}..."
    mkdir -p "$MAVEN_HOME"
    cd "$MAVEN_HOME"
    curl -fsSL "https://archive.apache.org/dist/maven/maven-3/${MAVEN_VERSION}/binaries/apache-maven-${MAVEN_VERSION}-bin.tar.gz" | tar xz --strip-components=1
fi

# 运行Maven
exec "$MAVEN_BIN" "$@"