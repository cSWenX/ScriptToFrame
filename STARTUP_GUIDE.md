# å¯åŠ¨è„šæœ¬ä½¿ç”¨è¯´æ˜ (åå°è¿è¡Œç‰ˆ)

## ğŸš€ ä¸€é”®å¯åŠ¨

æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†æ”¯æŒåå°è¿è¡Œå’Œæ—¥å¿—è¾“å‡ºçš„å¯åŠ¨è„šæœ¬ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡ã€‚

## ğŸ“ è„šæœ¬æ–‡ä»¶

- `start.sh` - Linux/macOS å¯åŠ¨è„šæœ¬ (åå°è¿è¡Œï¼Œæ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶)
- `stop.sh` - Linux/macOS åœæ­¢è„šæœ¬ (æ”¯æŒPIDç®¡ç†)
- `logs.sh` - æ—¥å¿—æŸ¥çœ‹å·¥å…·è„šæœ¬
- `start.bat` - Windows å¯åŠ¨è„šæœ¬

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•1: ç›´æ¥è¿è¡Œè„šæœ¬ (æ¨è)

#### å¯åŠ¨æœåŠ¡:
```bash
# Linux/macOS - åå°å¯åŠ¨ï¼ŒæœåŠ¡è¿è¡Œåœ¨åå°
./start.sh

# å¯åŠ¨åä¼šæ˜¾ç¤ºæ—¥å¿—æŸ¥çœ‹é€‰é¡¹:
# 1) æŸ¥çœ‹åç«¯æ—¥å¿— (Python/FastAPI)
# 2) æŸ¥çœ‹å‰ç«¯æ—¥å¿— (Next.js)
# 3) æŸ¥çœ‹ç»¼åˆæ—¥å¿— (æ‰€æœ‰æ“ä½œ)
# 4) åŒæ—¶æŸ¥çœ‹å‰ç«¯å’Œåç«¯æ—¥å¿—
# 5) è·³è¿‡ï¼Œæ‰‹åŠ¨æŸ¥çœ‹æ—¥å¿—
```

#### æŸ¥çœ‹æ—¥å¿—:
```bash
# ä½¿ç”¨æ—¥å¿—æŸ¥çœ‹å·¥å…· (äº¤äº’å¼èœå•)
./logs.sh

# æˆ–è€…ç›´æ¥å‘½ä»¤è¡ŒæŸ¥çœ‹
tail -f logs/backend.log     # å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f logs/frontend.log    # å®æ—¶æŸ¥çœ‹å‰ç«¯æ—¥å¿—
tail -f logs/combined.log    # å®æ—¶æŸ¥çœ‹ç»¼åˆæ—¥å¿—
```

#### åœæ­¢æœåŠ¡:
```bash
./stop.sh
```

### æ–¹æ³•2: é€šè¿‡ npm scripts

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ (åå°è¿è¡Œ)
npm run start:all

# åœæ­¢æ‰€æœ‰æœåŠ¡
npm run stop:all

# æ—¥å¿—æŸ¥çœ‹
npm run logs                # äº¤äº’å¼æ—¥å¿—æŸ¥çœ‹å·¥å…·
npm run logs:backend       # æŸ¥çœ‹åç«¯æ—¥å¿—
npm run logs:frontend      # æŸ¥çœ‹å‰ç«¯æ—¥å¿—
npm run logs:all           # æŸ¥çœ‹ç»¼åˆæ—¥å¿—
```

## âš¡ æ–°åŠŸèƒ½ç‰¹æ€§

### ğŸ”„ åå°è¿è¡Œ
- æœåŠ¡åœ¨åå°è¿è¡Œï¼Œä¸å ç”¨ç»ˆç«¯
- æ‰€æœ‰è¾“å‡ºé‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶
- æ”¯æŒ PID æ–‡ä»¶ç®¡ç†ï¼Œä¼˜é›…å¯åœ

### ğŸ“Š æ—¥å¿—ç³»ç»Ÿ
- **backend.log** - Python/FastAPI åç«¯æ—¥å¿—
- **frontend.log** - Next.js å‰ç«¯æ—¥å¿—
- **combined.log** - å¯åŠ¨è„šæœ¬æ“ä½œæ—¥å¿—
- æ—¥å¿—æ–‡ä»¶ä½äº `logs/` ç›®å½•

### ğŸ” æ—¥å¿—æŸ¥çœ‹å·¥å…· (`logs.sh`)
1. **å®æ—¶æ—¥å¿—ç›‘æ§** - ä½¿ç”¨ `tail -f` å®æ—¶æŸ¥çœ‹
2. **å¤šæ—¥å¿—åŒæ—¶æŸ¥çœ‹** - åŒæ—¶æ˜¾ç¤ºå‰ç«¯å’Œåç«¯æ—¥å¿—
3. **æ—¥å¿—æœç´¢** - åœ¨æ—¥å¿—ä¸­æœç´¢å…³é”®è¯
4. **æ—¥å¿—æ–‡ä»¶ä¿¡æ¯** - æ˜¾ç¤ºæ–‡ä»¶å¤§å°ã€ä¿®æ”¹æ—¶é—´ç­‰
5. **æ—¥å¿—æ¸…ç†** - æ¸…ç†æ—§æ—¥å¿—æ–‡ä»¶

### ğŸ“ˆ è¿›ç¨‹ç®¡ç†
- **PID æ–‡ä»¶** - ä¿å­˜è¿›ç¨‹ IDï¼Œæ–¹ä¾¿ç®¡ç†
- **ä¼˜é›…åœæ­¢** - å…ˆå°è¯•æ­£å¸¸ç»ˆæ­¢ï¼Œå¿…è¦æ—¶å¼ºåˆ¶ç»ˆæ­¢
- **ç«¯å£æ£€æŸ¥** - ç¡®ä¿ç«¯å£å®Œå…¨é‡Šæ”¾
- **å¥åº·æ£€æŸ¥** - éªŒè¯æœåŠ¡å¯åŠ¨çŠ¶æ€

## ğŸŒ æœåŠ¡åœ°å€

å¯åŠ¨æˆåŠŸåï¼Œæ‚¨å¯ä»¥è®¿é—®ï¼š

- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **åç«¯API**: http://localhost:8081
- **APIæ–‡æ¡£**: http://localhost:8081/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:8081/api/health

## ğŸ“‹ æ—¥å¿—æŸ¥çœ‹å‘½ä»¤é€ŸæŸ¥

```bash
# åŸºæœ¬æ—¥å¿—æŸ¥çœ‹
tail -f logs/backend.log      # å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f logs/frontend.log     # å®æ—¶æŸ¥çœ‹å‰ç«¯æ—¥å¿—
tail -f logs/combined.log     # å®æ—¶æŸ¥çœ‹ç»¼åˆæ—¥å¿—

# æŸ¥çœ‹æœ€è¿‘æ—¥å¿—
tail -n 50 logs/backend.log   # æŸ¥çœ‹æœ€è¿‘50è¡Œåç«¯æ—¥å¿—
tail -n 100 logs/frontend.log # æŸ¥çœ‹æœ€è¿‘100è¡Œå‰ç«¯æ—¥å¿—

# æœç´¢æ—¥å¿—
grep "ERROR" logs/backend.log     # æœç´¢é”™è¯¯æ—¥å¿—
grep "API" logs/combined.log      # æœç´¢APIç›¸å…³æ—¥å¿—

# åŒæ—¶æŸ¥çœ‹å¤šä¸ªæ—¥å¿— (å¸¦æ ‡ç­¾)
tail -f logs/backend.log | sed 's/^/[BACKEND] /' &
tail -f logs/frontend.log | sed 's/^/[FRONTEND] /' &
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ—¥å¿—æ–‡ä»¶ä¸å­˜åœ¨**
   ```bash
   # ç¡®ä¿å…ˆå¯åŠ¨æœåŠ¡
   ./start.sh

   # æ£€æŸ¥logsç›®å½•
   ls -la logs/
   ```

2. **æœåŠ¡å¯åŠ¨å¤±è´¥**
   ```bash
   # æ£€æŸ¥å¯åŠ¨æ—¥å¿—
   tail -n 20 logs/combined.log

   # æ£€æŸ¥åç«¯é”™è¯¯
   tail -n 20 logs/backend.log
   ```

3. **ç«¯å£è¢«å ç”¨**
   ```bash
   # å¼ºåˆ¶åœæ­¢æ‰€æœ‰æœåŠ¡
   ./stop.sh

   # æ‰‹åŠ¨æ£€æŸ¥ç«¯å£
   lsof -i :3000
   lsof -i :8081
   ```

4. **PIDæ–‡ä»¶é—®é¢˜**
   ```bash
   # æ¸…ç†PIDæ–‡ä»¶
   rm -f logs/*.pid

   # é‡æ–°å¯åŠ¨
   ./start.sh
   ```

## ğŸ”„ å¼€å‘å·¥ä½œæµ (åå°è¿è¡Œç‰ˆ)

```bash
# 1. åå°å¯åŠ¨å¼€å‘ç¯å¢ƒ
./start.sh

# 2. é€‰æ‹©æŸ¥çœ‹åç«¯æ—¥å¿— (åœ¨å¯åŠ¨è„šæœ¬ä¸­é€‰æ‹©é€‰é¡¹1)
# ç°åœ¨å¯ä»¥åœ¨åŒä¸€ä¸ªç»ˆç«¯ä¸­çœ‹åˆ°å®æ—¶æ—¥å¿—

# 3. å¦‚éœ€åˆ‡æ¢æŸ¥çœ‹å‰ç«¯æ—¥å¿—ï¼Œæ–°å¼€ç»ˆç«¯
./logs.sh  # é€‰æ‹©ç›¸åº”çš„æ—¥å¿—æŸ¥çœ‹é€‰é¡¹

# 4. å¼€å‘å®Œæˆååœæ­¢æœåŠ¡
./stop.sh
```

## ğŸ’¡ é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰æ—¥å¿—è¿‡æ»¤
```bash
# åªçœ‹é”™è¯¯æ—¥å¿—
tail -f logs/backend.log | grep -i error

# åªçœ‹APIè¯·æ±‚æ—¥å¿—
tail -f logs/combined.log | grep "API"

# é«˜äº®æ˜¾ç¤ºå…³é”®è¯
tail -f logs/backend.log | grep --color=always -E "(ERROR|WARNING|SUCCESS)"
```

### æ—¥å¿—è½®è½¬
```bash
# æŒ‰æ—¥æœŸå¤‡ä»½æ—¥å¿—
cp logs/backend.log logs/backend-$(date +%Y%m%d).log

# æ¸…ç©ºå½“å‰æ—¥å¿—ï¼ˆä¿æŒæ–‡ä»¶æè¿°ç¬¦ï¼‰
> logs/backend.log
```

### ç›‘æ§è„šæœ¬
```bash
# ç›‘æ§æœåŠ¡çŠ¶æ€
watch -n 5 'curl -s http://localhost:8081/api/health || echo "Backend down"'
```